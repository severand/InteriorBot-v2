# üó∫Ô∏è –ö–ê–†–¢–ê –≠–ö–†–ê–ù–û–í InteriorBot-v2

**–í–µ—Ä—Å–∏—è:** 2.1  
**–î–∞—Ç–∞:** 28 –Ω–æ—è–±—Ä—è 2024  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º –±–æ—Ç–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï

- [–û—Å–Ω–æ–≤–Ω–æ–π Flow](#–æ—Å–Ω–æ–≤–Ω–æ–π-flow)
- [–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤](#–¥–µ—Ç–∞–ª—å–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-—ç–∫—Ä–∞–Ω–æ–≤)
- [–°—Ö–µ–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤](#—Å—Ö–µ–º–∞-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤)

---

## üîÑ –û–°–ù–û–í–ù–û–ô FLOW

```
START (–≠–∫—Ä–∞–Ω 1)
    ‚îÇ
    ‚îú‚îÄ‚Üí üë§ –ü—Ä–æ—Ñ–∏–ª—å (–≠–∫—Ä–∞–Ω 2) ‚îÄ‚Üí üí≥ –ü–æ–∫—É–ø–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ (–≠–∫—Ä–∞–Ω 13)
    ‚îÇ
    ‚îú‚îÄ‚Üí ‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–≠–∫—Ä–∞–Ω 17) ‚Üí –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
    ‚îÇ
    ‚îú‚îÄ‚Üí üè† –î–ª—è –¥–æ–º–∞ (–≠–∫—Ä–∞–Ω 3) ‚îÄ‚îê
    ‚îÇ                          ‚îÇ
    ‚îî‚îÄ‚Üí üíº –î–ª—è –±–∏–∑–Ω–µ—Å–∞ (–≠–∫—Ä–∞–Ω 4) ‚îÄ‚îò
                               ‚îÇ
                               ‚ñº
                    üé® –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ (–≠–∫—Ä–∞–Ω 5)
                               ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ                             ‚îÇ
                ‚ñº                             ‚ñº
    üé® –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–∑–∞–π–Ω          üõãÔ∏è –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π
         (–≠–∫—Ä–∞–Ω 8)                     (–≠–∫—Ä–∞–Ω 9)
                ‚îÇ                          ‚îÇ
                ‚îÇ                          ‚ñº
                ‚îÇ                   –ú–µ–±–µ–ª—å (–≠–∫—Ä–∞–Ω 9)
                ‚îÇ                          ‚îÇ
                ‚îÇ                          ‚ñº
                ‚îÇ                   –¶–≤–µ—Ç–∞ (–≠–∫—Ä–∞–Ω 10)
                ‚îÇ                          ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
                    ‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è (–≠–∫—Ä–∞–Ω 11)
                           ‚îÇ
                           ‚ñº
                    ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç (–≠–∫—Ä–∞–Ω 12)
```

---

## üì± –î–ï–¢–ê–õ–¨–ù–û–ï –û–ü–ò–°–ê–ù–ò–ï –≠–ö–†–ê–ù–û–í

### **–≠–ö–†–ê–ù 1: START / MAIN_MENU**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/user_start.py`  
**üîß –§—É–Ω–∫—Ü–∏–∏:**
- `start_command()` ‚Äî –ø—Ä–∏ `/start`
- `go_to_main_menu()` ‚Äî –ø—Ä–∏ callback `main_menu`

**üìù –¢–µ–∫—Å—Ç:** `MAIN_MENU_TEXT` (–∏–∑ `utils/texts.py`)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_main_menu_keyboard(is_admin=True/False)` (–∏–∑ `keyboards/inline.py`)

**–ö–Ω–æ–ø–∫–∏:**
- üè† –î–ª—è –¥–æ–º–∞ ‚Üí –≠–∫—Ä–∞–Ω 3
- üíº –î–ª—è –±–∏–∑–Ω–µ—Å–∞ ‚Üí –≠–∫—Ä–∞–Ω 4
- üë§ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –≠–∫—Ä–∞–Ω 2
- ‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí –≠–∫—Ä–∞–Ω 17 *(—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∏–∑ ADMIN_IDS)*

**State:** `MainMenuStates.main_menu`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–Ω–æ–ø–∫–∞ "‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º (user_id –≤ —Å–ø–∏—Å–∫–µ `ADMIN_IDS` –∏–∑ `config.py`).

---

### **–≠–ö–†–ê–ù 2: PROFILE**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±–∞–ª–∞–Ω—Å–æ–º —Ç–æ–∫–µ–Ω–æ–≤  
**üìÇ –§–∞–π–ª:** `bot/handlers/user_start.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `profile_callback()`

**üìù –¢–µ–∫—Å—Ç:** `PROFILE_TEXT` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è —Å `user_id`, `username`, `balance`)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_profile_keyboard()`

**–ö–Ω–æ–ø–∫–∏:**
- üí≥ –ö—É–ø–∏—Ç—å —Ç–æ–∫–µ–Ω—ã ‚Üí –≠–∫—Ä–∞–Ω 13
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**State:** `MainMenuStates.profile`

---

### **–≠–ö–†–ê–ù 3: HOME_MENU**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è –¥–æ–º–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/user_start.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `home_menu()`

**üìù –¢–µ–∫—Å—Ç:** `HOME_TEXT`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_home_rooms_keyboard()`

**–ö–Ω–æ–ø–∫–∏ (12 –∫–æ–º–Ω–∞—Ç –ø–æ 2 –≤ —Ä—è–¥):**
- üõãÔ∏è –°—Ç–æ–ª–æ–≤–∞—è ‚Üí `room_dining_room`
- üç≥ –ö—É—Ö–Ω—è ‚Üí `room_kitchen`
- üõãÔ∏è –ì–æ—Å—Ç–∏–Ω–∞—è ‚Üí `room_living_room`
- üõèÔ∏è –°–ø–∞–ª—å–Ω—è ‚Üí `room_bedroom`
- üíº –ö–∞–±–∏–Ω–µ—Ç ‚Üí `room_office_work`
- ü™ü –ì–∞—Ä–¥–µ—Ä–æ–±–Ω–∞—è ‚Üí `room_wardrobe_closet`
- üë∂ –î–µ—Ç—Å–∫–∞—è ‚Üí `room_kids_room`
- üè° –ü—Ä–∏—Ö–æ–∂–∞—è ‚Üí `room_entrance_hall`
- üöΩ –°–∞–Ω—É–∑–µ–ª ‚Üí `room_toilet_restroom`
- üõÅ –í–∞–Ω–Ω–∞—è ‚Üí `room_bathroom_bath`
- ü™ü –ë–∞–ª–∫–æ–Ω ‚Üí `room_balcony_terrace`
- üî≥ –ú—É–∂—Å–∫–∞—è –±–µ—Ä–ª–æ–≥–∞ ‚Üí `room_manroom_den`
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–º–Ω–∞—Ç—ã:** ‚Üí –≠–∫—Ä–∞–Ω 5 (Design Mode Selector)

**State:** `MainMenuStates.home_menu`

---

### **–≠–ö–†–ê–ù 4: BUSINESS_MENU**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä –ø–æ–º–µ—â–µ–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/user_start.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `business_menu()`

**üìù –¢–µ–∫—Å—Ç:** `BUSINESS_TEXT`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_business_rooms_keyboard()`

**–ö–Ω–æ–ø–∫–∏ (10 –ø–æ–º–µ—â–µ–Ω–∏–π –ø–æ 2 –≤ —Ä—è–¥):**
- üè¢ –û—Ñ–∏—Å ‚Üí `room_office_business`
- üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω ‚Üí `room_restaurant`
- ‚òï –ö–∞—Ñ–µ ‚Üí `room_cafe`
- ü¶∑ –°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è ‚Üí `room_dental`
- üíÜ –ú–∞—Å—Å–∞–∂–Ω—ã–π —Å–∞–ª–æ–Ω ‚Üí `room_massage`
- üì¶ –°–∫–ª–∞–¥ ‚Üí `room_warehouse`
- üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω ‚Üí `room_shop`
- üíÖ –°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã ‚Üí `room_salon`
- üèãÔ∏è –§–∏—Ç–Ω–µ—Å-–∫–ª—É–± ‚Üí `room_gym`
- üè™ –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π ‚Üí `room_grocery`
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–º–µ—â–µ–Ω–∏—è:** ‚Üí –≠–∫—Ä–∞–Ω 5 (Design Mode Selector)

**State:** `MainMenuStates.business_menu`

---

### **–≠–ö–†–ê–ù 5: DESIGN_MODE_SELECTOR**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/user_start.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `room_selected()`

**üìù –¢–µ–∫—Å—Ç:** `DESIGN_MODE_TEXT` (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–æ–º–Ω–∞—Ç—É)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_design_mode_keyboard()`

**–ö–Ω–æ–ø–∫–∏:**
- üé® –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏ –≤—ã–±—Ä–∞—Ç—å –¥–∏–∑–∞–π–Ω ‚Üí –≠–∫—Ä–∞–Ω 8 (–≤—ã–±–æ—Ä —Å—Ç–∏–ª—è)
- üõãÔ∏è –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –∏–Ω—Ç–µ—Ä—å–µ—Ä ‚Üí –≠–∫—Ä–∞–Ω 9 (–≤—ã–±–æ—Ä –º–µ–±–µ–ª–∏)
- ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –∫–æ–º–Ω–∞—Ç–∞–º ‚Üí –≠–∫—Ä–∞–Ω 3 –∏–ª–∏ 4
- üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**State:** `CreationStates.choose_mode`

---

### **–≠–ö–†–ê–ù 6: UPLOAD_PHOTO** (–ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í –¢–ï–ö–£–©–ï–ô –í–ï–†–°–ò–ò)

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –∫–æ–º–Ω–∞—Ç—ã  
**üìÇ –§–∞–π–ª:** `bot/handlers/creation.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `choose_new_photo()`

**üìù –¢–µ–∫—Å—Ç:** `UPLOAD_PHOTO_TEXT`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** –ù–µ—Ç (–æ–∂–∏–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ)

**State:** `CreationStates.waiting_for_photo`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Ñ–æ—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

---

### **–≠–ö–†–ê–ù 7: CHOOSE_ROOM** (–ü–û–°–õ–ï –ó–ê–ì–†–£–ó–ö–ò –§–û–¢–û)

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∫–æ–º–Ω–∞—Ç—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ  
**üìÇ –§–∞–π–ª:** `bot/handlers/creation.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `photo_uploaded()`

**üìù –¢–µ–∫—Å—Ç:** `PHOTO_SAVED_TEXT`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_room_keyboard()` (4 –∫–æ–º–Ω–∞—Ç—ã)

**State:** `CreationStates.choose_room`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —ç—Ç–æ—Ç —ç–∫—Ä–∞–Ω –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –≤—ã–±–æ—Ä –∫–æ–º–Ω–∞—Ç—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –≠–∫—Ä–∞–Ω—ã 3-4.

---

### **–≠–ö–†–ê–ù 8: CHOOSE_STYLE**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä —Å—Ç–∏–ª—è –¥–∏–∑–∞–π–Ω–∞ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/creation.py`  
**üîß –§—É–Ω–∫—Ü–∏–∏:**
- `room_chosen()` ‚Äî –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–º–Ω–∞—Ç—ã
- `mode_select_design()` ‚Äî –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–µ–∂–∏–º–∞ "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–∑–∞–π–Ω" (–∏–∑ `user_start.py`)
- `change_style_after_gen()` ‚Äî –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–î—Ä—É–≥–æ–π —Å—Ç–∏–ª—å" –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**üìù –¢–µ–∫—Å—Ç:** `CHOOSE_STYLE_TEXT` (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–æ–º–Ω–∞—Ç—É: `{room_name}`)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_style_keyboard()`

**–ö–Ω–æ–ø–∫–∏ (10 —Å—Ç–∏–ª–µ–π –ø–æ 2 –≤ —Ä—è–¥):**
- üè¢ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π ‚Üí `style_modern`
- ‚¨ú –ú–∏–Ω–∏–º–∞–ª–∏–∑–º ‚Üí `style_minimalism`
- üá∏üá™ –°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∏–π ‚Üí `style_scandinavian`
- üè≠ –õ–æ—Ñ—Ç ‚Üí `style_loft`
- üåæ –†—É—Å—Ç–∏–∫ ‚Üí `style_rustic`
- üèúÔ∏è –î–∂–∞–ø–∞–Ω–¥–∏ ‚Üí `style_japandi`
- üå∏ –ë–æ—Ö–æ ‚Üí `style_boho`
- üåä –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∏–π ‚Üí `style_mediterranean`
- üìª Mid-century ‚Üí `style_midcentury`
- üíé –ê—Ä-–¥–µ–∫–æ ‚Üí `style_art_deco`
- ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ ‚Üí –≠–∫—Ä–∞–Ω 5 (Design Mode Selector)
- üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**–ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Å—Ç–∏–ª—è:** ‚Üí –≠–∫—Ä–∞–Ω 11 (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è)

**State:** `CreationStates.choose_style`

---

### **–≠–ö–†–ê–ù 9: CHOOSE_FURNITURE**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä –º–µ–±–µ–ª–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/design_step1_furniture.py`  
**üîß –§—É–Ω–∫—Ü–∏–∏:**
- `show_furniture_screen()` ‚Äî –ø–æ–∫–∞–∑ —ç–∫—Ä–∞–Ω–∞
- `toggle_furniture()` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –º–µ–±–µ–ª–∏ (callback `furn:{key}`)
- `go_to_colors()` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ü–≤–µ—Ç–∞–º (callback `to_colors`)

**üìù –¢–µ–∫—Å—Ç:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–º–Ω–∞—Ç—ã –∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–µ–±–µ–ª–∏)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–º–Ω–∞—Ç—ã)

**–ü—Ä–∏–º–µ—Ä—ã –º–µ–±–µ–ª–∏ (–¥–ª—è –∫—É—Ö–Ω–∏):**
- üçΩÔ∏è –û–±–µ–¥–µ–Ω–Ω—ã–π —Å—Ç–æ–ª
- üç≥ –ì–∞—Ä–Ω–∏—Ç—É—Ä
- üßä –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫
- üç∑ –ë–∞—Ä–Ω–∞—è —Å—Ç–æ–π–∫–∞
- üí° –ü–æ–¥—Å–≤–µ—Ç–∫–∞
- ü™£ –ú—É—Å–æ—Ä–Ω–æ–µ –≤–µ–¥—Ä–æ
- üîß –ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞
- üìö –ü–æ–ª–∫–∏

**–ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
- ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ ‚Üí –≠–∫—Ä–∞–Ω 5 (Design Mode Selector)
- ‚û°Ô∏è –î–ê–õ–ï–ï: –¶–í–ï–¢–ê ‚Üí –≠–∫—Ä–∞–Ω 10

**State:** `CreationStates.choose_furniture`

---

### **–≠–ö–†–ê–ù 10: CHOOSE_COLORS**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä —Ü–≤–µ—Ç–æ–≤ —Å—Ç–µ–Ω, –ø–æ–ª–∞, –º–µ–±–µ–ª–∏  
**üìÇ –§–∞–π–ª:** `bot/handlers/design_step2_colors.py`  
**üîß –§—É–Ω–∫—Ü–∏–∏:**
- `show_colors_screen()` ‚Äî –ø–æ–∫–∞–∑ —ç–∫—Ä–∞–Ω–∞ —Ü–≤–µ—Ç–æ–≤
- –†–∞–∑–ª–∏—á–Ω—ã–µ callback-—Ö—ç–Ω–¥–ª–µ—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–æ–≤

**üìù –¢–µ–∫—Å—Ç:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —à–∞–≥: —Å—Ç–µ–Ω—ã/–ø–æ–ª/–º–µ–±–µ–ª—å)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è (–ø–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤)

**–®–∞–≥–∏ –≤—ã–±–æ—Ä–∞:**
1. –¶–≤–µ—Ç —Å—Ç–µ–Ω
2. –¶–≤–µ—Ç –ø–æ–ª–∞
3. –¶–≤–µ—Ç –º–µ–±–µ–ª–∏

**–ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
- ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ ‚Üí –≠–∫—Ä–∞–Ω 9 (–ú–µ–±–µ–ª—å)
- ‚úÖ –ì–æ—Ç–æ–≤–æ ‚Üí –≠–∫—Ä–∞–Ω 11 (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è)

**State:** `CreationStates.choose_furniture` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ state)

---

### **–≠–ö–†–ê–ù 11: GENERATING**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/creation.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `style_chosen()` (–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏)

**üìù –¢–µ–∫—Å—Ç:** `"‚è≥ –ì–µ–Ω–µ—Ä–∏—Ä—É—é –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω..."`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** –ù–µ—Ç

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤
2. –°–ø–∏—Å–∞–Ω–∏–µ 1 —Ç–æ–∫–µ–Ω–∞
3. –í—ã–∑–æ–≤ `generate_image()` –∏–∑ `services/replicate_api.py`
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ DALL-E 3 (Replicate API)
5. –ü–æ–ª—É—á–µ–Ω–∏–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–í—Ä–µ–º—è:** ~20-40 —Å–µ–∫—É–Ω–¥

**–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –£—Å–ø–µ—Ö ‚Üí –≠–∫—Ä–∞–Ω 12 (–†–µ–∑—É–ª—å—Ç–∞—Ç)
- –û—à–∏–±–∫–∞ ‚Üí –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ + –≠–∫—Ä–∞–Ω 1

**State:** –ù–µ—Ç (–ø—Ä–æ—Ü–µ—Å—Å)

---

### **–≠–ö–†–ê–ù 12: RESULT**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑ –≥–æ—Ç–æ–≤–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞  
**üìÇ –§–∞–π–ª:** `bot/handlers/creation.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `style_chosen()` (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)

**üìù –¢–µ–∫—Å—Ç:** `"–ß—Ç–æ –¥–∞–ª—å—à–µ?"`  
**üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_post_generation_keyboard()`

**–ö–Ω–æ–ø–∫–∏:**
- üé® –î—Ä—É–≥–æ–π —Å—Ç–∏–ª—å ‚Üí –≠–∫—Ä–∞–Ω 8 (–≤—ã–±–æ—Ä —Å—Ç–∏–ª—è —Å —Ç–æ–π –∂–µ –∫–æ–º–Ω–∞—Ç–æ–π)
- üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**State:** –¢–µ–∫—É—â–∏–π state —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (room –æ—Å—Ç–∞—ë—Ç—Å—è –≤ state)

---

### **–≠–ö–†–ê–ù 13: PAYMENT_PACKAGES**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–±–æ—Ä –ø–∞–∫–µ—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏  
**üìÇ –§–∞–π–ª:** `bot/handlers/payment.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `show_packages()`

**üìù –¢–µ–∫—Å—Ç:** `"–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–π:"`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_payment_keyboard()`

**–ö–Ω–æ–ø–∫–∏ (–ø–∞–∫–µ—Ç—ã):**
- üíé 10 —Ç–æ–∫–µ–Ω–æ–≤ - 290‚ÇΩ ‚Üí `pay_10_290`
- üíé 25 —Ç–æ–∫–µ–Ω–æ–≤ - 490‚ÇΩ ‚Üí `pay_25_490`
- üíé 60 —Ç–æ–∫–µ–Ω–æ–≤ - 990‚ÇΩ ‚Üí `pay_60_990`
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–∞–∫–µ—Ç–∞:** ‚Üí –≠–∫—Ä–∞–Ω 14 (Payment Created)

**State:** –ù–µ—Ç

---

### **–≠–ö–†–ê–ù 14: PAYMENT_CREATED**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –≠–∫—Ä–∞–Ω –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞ –≤ YooKassa  
**üìÇ –§–∞–π–ª:** `bot/handlers/payment.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `create_payment()`

**üìù –¢–µ–∫—Å—Ç:** `PAYMENT_CREATED` (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É–º–º—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_payment_check_keyboard(confirmation_url)`

**–ö–Ω–æ–ø–∫–∏:**
- üîó –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ (URL –Ω–∞ YooKassa)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–ª–∞—Ç—ë–∂ ‚Üí –≤—ã–∑–æ–≤ `check_payment()`
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ:** ‚Üí –≠–∫—Ä–∞–Ω 15

**State:** –ù–µ—Ç

---

### **–≠–ö–†–ê–ù 15: PAYMENT_SUCCESS**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞, —Ç–æ–∫–µ–Ω—ã –∑–∞—á–∏—Å–ª–µ–Ω—ã  
**üìÇ –§–∞–π–ª:** `bot/handlers/payment.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** `check_payment()` (–ø—Ä–∏ —É—Å–ø–µ—Ö–µ)

**üìù –¢–µ–∫—Å—Ç:** `PAYMENT_SUCCESS_TEXT` (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å)  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_main_menu_keyboard()`

**–ö–Ω–æ–ø–∫–∏:**
- üè† –î–ª—è –¥–æ–º–∞ ‚Üí –≠–∫—Ä–∞–Ω 3
- üíº –î–ª—è –±–∏–∑–Ω–µ—Å–∞ ‚Üí –≠–∫—Ä–∞–Ω 4
- üë§ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –≠–∫—Ä–∞–Ω 2

**State:** –ù–µ—Ç

---

### **–≠–ö–†–ê–ù 16: NO_BALANCE**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏  
**üìÇ –§–∞–π–ª:** `bot/handlers/creation.py`  
**üîß –§—É–Ω–∫—Ü–∏—è:** –†–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Å—Ç–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –±–∞–ª–∞–Ω—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `photo_uploaded()`, `room_chosen()`, `style_chosen()`)

**üìù –¢–µ–∫—Å—Ç:** `NO_BALANCE_TEXT`  
**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_payment_keyboard()`

**–ö–Ω–æ–ø–∫–∏:**
- üíé 10 —Ç–æ–∫–µ–Ω–æ–≤ - 290‚ÇΩ ‚Üí –≠–∫—Ä–∞–Ω 14
- üíé 25 —Ç–æ–∫–µ–Ω–æ–≤ - 490‚ÇΩ ‚Üí –≠–∫—Ä–∞–Ω 14
- üíé 60 —Ç–æ–∫–µ–Ω–æ–≤ - 990‚ÇΩ ‚Üí –≠–∫—Ä–∞–Ω 14
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**State:** –û—á–∏—â–∞–µ—Ç—Å—è (`state.clear()`)

---

### **–≠–ö–†–ê–ù 17: ADMIN_PANEL**

**üìç –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º  
**üìÇ –§–∞–π–ª:** `bot/handlers/admin.py`  
**üîß –§—É–Ω–∫—Ü–∏–∏:**
- `open_admin_panel_callback()` ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é (callback `open_admin_panel`)
- `admin_start()` ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/admin`
- `admin_menu_handler()` ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (callback `admin_menu`)

**üìù –¢–µ–∫—Å—Ç:**
```
üîê –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ InteriorBot

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–æ–µ –º–µ–Ω—é!

–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ:
‚Ä¢ üìä –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
‚Ä¢ üë• –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚Ä¢ üîë –£–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
‚Ä¢ üîê –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å API —Ç–æ–∫–µ–Ω—ã
```

**‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:** `get_admin_menu_keyboard()`

**–ö–Ω–æ–ø–∫–∏:**
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Üí –ü–æ–¥–º–µ–Ω—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - üìà –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - üé® –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Å—Ç–∏–ª–µ–π
  - üè† –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∫–æ–º–Ω–∞—Ç
- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏
- üîê API –¢–æ–∫–µ–Ω—ã ‚Üí –°—Ç–∞—Ç—É—Å API —Ç–æ–∫–µ–Ω–æ–≤
- ‚¨ÖÔ∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –≠–∫—Ä–∞–Ω 1

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ `ADMIN_IDS` –≤ `config.py`

**State:** `AdminStates.admin_menu`

**–°–ø–æ—Å–æ–±—ã –≤—Ö–æ–¥–∞:**
1. –ß–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" –Ω–∞ –≠–∫—Ä–∞–Ω–µ 1 (callback `open_admin_panel`)
2. –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/admin` –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:**
- –ï—Å–ª–∏ `user_id not in ADMIN_IDS` ‚Üí Alert "‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"
- –ï—Å–ª–∏ `user_id in ADMIN_IDS` ‚Üí –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- `[ADMIN_PANEL]` ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É
- `[ADMIN_CMD]` ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É
- `[ADMIN_MENU]` ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –ø–∞–Ω–µ–ª–∏

---

## üîÄ –°–•–ï–ú–ê –ü–ï–†–ï–•–û–î–û–í

### –ì–ª–∞–≤–Ω—ã–µ –ø—É—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

**1. –ë—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å (–≥–æ—Ç–æ–≤—ã–π –¥–∏–∑–∞–π–Ω):**
```
–≠–∫—Ä–∞–Ω 1 ‚Üí –≠–∫—Ä–∞–Ω 3/4 ‚Üí –≠–∫—Ä–∞–Ω 5 ‚Üí –≠–∫—Ä–∞–Ω 8 ‚Üí –≠–∫—Ä–∞–Ω 11 ‚Üí –≠–∫—Ä–∞–Ω 12
(–°—Ç–∞—Ä—Ç ‚Üí –ö–æ–º–Ω–∞—Ç—ã ‚Üí –†–µ–∂–∏–º ‚Üí –°—Ç–∏–ª—å ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç)
```

**2. –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø—É—Ç—å (—Å–≤–æ–π –¥–∏–∑–∞–π–Ω):**
```
–≠–∫—Ä–∞–Ω 1 ‚Üí –≠–∫—Ä–∞–Ω 3/4 ‚Üí –≠–∫—Ä–∞–Ω 5 ‚Üí –≠–∫—Ä–∞–Ω 9 ‚Üí –≠–∫—Ä–∞–Ω 10 ‚Üí –≠–∫—Ä–∞–Ω 11 ‚Üí –≠–∫—Ä–∞–Ω 12
(–°—Ç–∞—Ä—Ç ‚Üí –ö–æ–º–Ω–∞—Ç—ã ‚Üí –†–µ–∂–∏–º ‚Üí –ú–µ–±–µ–ª—å ‚Üí –¶–≤–µ—Ç–∞ ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç)
```

**3. –ü–æ–∫—É–ø–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤:**
```
–≠–∫—Ä–∞–Ω 1 ‚Üí –≠–∫—Ä–∞–Ω 2 ‚Üí –≠–∫—Ä–∞–Ω 13 ‚Üí –≠–∫—Ä–∞–Ω 14 ‚Üí –≠–∫—Ä–∞–Ω 15 ‚Üí –≠–∫—Ä–∞–Ω 1
(–°—Ç–∞—Ä—Ç ‚Üí –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ü–∞–∫–µ—Ç—ã ‚Üí –û–ø–ª–∞—Ç–∞ ‚Üí –£—Å–ø–µ—Ö ‚Üí –°—Ç–∞—Ä—Ç)
```

**4. –ù–µ—Ç –±–∞–ª–∞–Ω—Å–∞:**
```
–≠–∫—Ä–∞–Ω 8 (–∏–ª–∏ –¥—Ä—É–≥–æ–π) ‚Üí –≠–∫—Ä–∞–Ω 16 ‚Üí –≠–∫—Ä–∞–Ω 13 ‚Üí –≠–∫—Ä–∞–Ω 14 ‚Üí –≠–∫—Ä–∞–Ω 15
(–ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Üí –ù–µ—Ç –±–∞–ª–∞–Ω—Å–∞ ‚Üí –ü–æ–∫—É–ø–∫–∞)
```

**5. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤):**
```
–≠–∫—Ä–∞–Ω 1 ‚Üí –≠–∫—Ä–∞–Ω 17 ‚Üí –ü–æ–¥–º–µ–Ω—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí –≠–∫—Ä–∞–Ω 17 ‚Üí –≠–∫—Ä–∞–Ω 1
(–°—Ç–∞—Ä—Ç ‚Üí –ê–¥–º–∏–Ω–∫–∞ ‚Üí –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ ‚Üí –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é)
```

---

## üìû CALLBACK DATA (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

### –û—Å–Ω–æ–≤–Ω—ã–µ callback'–∏:

| Callback | –î–µ–π—Å—Ç–≤–∏–µ | –≠–∫—Ä–∞–Ω –æ—Ç–∫—É–¥–∞ | –≠–∫—Ä–∞–Ω –∫—É–¥–∞ |
|----------|----------|--------------|------------|
| `main_menu` | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | –õ—é–±–æ–π | 1 |
| `menu_home` | –î–ª—è –¥–æ–º–∞ | 1 | 3 |
| `menu_business` | –î–ª—è –±–∏–∑–Ω–µ—Å–∞ | 1 | 4 |
| `menu_profile` | –ü—Ä–æ—Ñ–∏–ª—å | 1 | 2 |
| `open_admin_panel` | **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** | 1 | 17 |
| `room_{–Ω–∞–∑–≤–∞–Ω–∏–µ}` | –í—ã–±–æ—Ä –∫–æ–º–Ω–∞—Ç—ã | 3 –∏–ª–∏ 4 | 5 |
| `mode_select_design` | –†–µ–∂–∏–º "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å" | 5 | 8 |
| `mode_create_custom` | –†–µ–∂–∏–º "–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π" | 5 | 9 |
| `style_{–Ω–∞–∑–≤–∞–Ω–∏–µ}` | –í—ã–±–æ—Ä —Å—Ç–∏–ª—è | 8 | 11 |
| `furn:{key}` | Toggle –º–µ–±–µ–ª–∏ | 9 | 9 |
| `to_colors` | –ö —Ü–≤–µ—Ç–∞–º | 9 | 10 |
| `change_style` | –î—Ä—É–≥–æ–π —Å—Ç–∏–ª—å | 12 | 8 |
| `buy_generations` | –ö—É–ø–∏—Ç—å —Ç–æ–∫–µ–Ω—ã | 2 | 13 |
| `pay_{—Ç–æ–∫–µ–Ω—ã}_{—Ü–µ–Ω–∞}` | –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂ | 13 | 14 |
| `check_payment` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–ª–∞—Ç—ë–∂ | 14 | 15 –∏–ª–∏ –æ—à–∏–±–∫–∞ |
| `back_to_rooms` | –ù–∞–∑–∞–¥ –∫ –∫–æ–º–Ω–∞—Ç–∞–º | 5 | 3 –∏–ª–∏ 4 |
| `back_to_mode_selection` | –ù–∞–∑–∞–¥ –∫ —Ä–µ–∂–∏–º—É | 8, 9 | 5 |
| `admin_menu` | **–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ** | 17 (–ø–æ–¥–º–µ–Ω—é) | 17 (–≥–ª–∞–≤–Ω–∞—è) |
| `admin_stats` | **–ú–µ–Ω—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** | 17 | –ü–æ–¥–º–µ–Ω—é |
| `admin_users` | **–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** | 17 | –ü–æ–¥–º–µ–Ω—é |
| `admin_manage_admins` | **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏** | 17 | –ü–æ–¥–º–µ–Ω—é |
| `admin_api_tokens` | **API —Ç–æ–∫–µ–Ω—ã** | 17 | –ü–æ–¥–º–µ–Ω—é |

---

## üõ†Ô∏è –ë–´–°–¢–†–ê–Ø –û–¢–õ–ê–î–ö–ê

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∫–∞—Ä—Ç—É:

1. **–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ:**
   - –°–º–æ—Ç—Ä–∏–º –Ω–æ–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
   - –ù–∞—Ö–æ–¥–∏–º —Ñ–∞–π–ª –∏ —Ñ—É–Ω–∫—Ü–∏—é
   - –ü—Ä–∞–≤–∏–º –∫–æ–¥

2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º:**
   - –°–º–æ—Ç—Ä–∏–º callback –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –ù–∞—Ö–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ callback'–∞
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∞

3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–µ–∫—Å—Ç–æ–º:**
   - –ù–∞—Ö–æ–¥–∏–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É —Ç–µ–∫—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `CHOOSE_STYLE_TEXT`)
   - –ò–¥—ë–º –≤ `bot/utils/texts.py`
   - –ü—Ä–∞–≤–∏–º —Ç–µ–∫—Å—Ç

4. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π:**
   - –ù–∞—Ö–æ–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `get_style_keyboard()`)
   - –ò–¥—ë–º –≤ `bot/keyboards/inline.py`
   - –ü—Ä–∞–≤–∏–º –∫–Ω–æ–ø–∫–∏

---

## üìù –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ü—Ä–∏–º–µ—Ä 1: "–ù–∞ —ç–∫—Ä–∞–Ω–µ 8 –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–Ω–∞—Ç–∞"

1. –°–º–æ—Ç—Ä–∏–º –≠–∫—Ä–∞–Ω 8 ‚Üí —Ñ–∞–π–ª `handlers/creation.py`, —Ñ—É–Ω–∫—Ü–∏—è `room_chosen()`
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è: `CHOOSE_STYLE_TEXT.format(room_name=room_name)`
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ `texts.py` –µ—Å—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `{room_name}`

### –ü—Ä–∏–º–µ—Ä 2: "–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥"

1. –°–º–æ—Ç—Ä–∏–º –≠–∫—Ä–∞–Ω 8 ‚Üí callback `style_{–Ω–∞–∑–≤–∞–Ω–∏–µ}`
2. –ù–∞—Ö–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `style_chosen()` –≤ `handlers/creation.py`
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –≠–∫—Ä–∞–Ω—É 11

### –ü—Ä–∏–º–µ—Ä 3: "–ö–Ω–æ–ø–∫–∞ '–ù–∞–∑–∞–¥' –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è –≤–µ–¥—ë—Ç –Ω–µ —Ç—É–¥–∞"

1. –°–º–æ—Ç—Ä–∏–º –≠–∫—Ä–∞–Ω 8 ‚Üí –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ `get_style_keyboard()`
2. –ò–¥—ë–º –≤ `keyboards/inline.py` ‚Üí –Ω–∞—Ö–æ–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º callback –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥": –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `back_to_mode_selection`

### –ü—Ä–∏–º–µ—Ä 4: "–ö–Ω–æ–ø–∫–∞ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

1. –°–º–æ—Ç—Ä–∏–º –≠–∫—Ä–∞–Ω 1 ‚Üí –∫–Ω–æ–ø–∫–∞ "‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" ‚Üí callback `open_admin_panel`
2. –ò–¥—ë–º –≤ `handlers/admin.py` ‚Üí –Ω–∞—Ö–æ–¥–∏–º `open_admin_panel_callback()`
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º:
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –ª–∏ —Ä–æ—É—Ç–µ—Ä –≤ `main.py`?
   - user_id –≤ —Å–ø–∏—Å–∫–µ `ADMIN_IDS` –≤ `config.py`?
   - –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏?

---

## üéØ –ë–´–°–¢–†–´–ô –°–ü–†–ê–í–û–ß–ù–ò–ö

### –ü–æ –Ω–æ–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞:

| ‚Ññ | –ù–∞–∑–≤–∞–Ω–∏–µ | –§–∞–π–ª | –§—É–Ω–∫—Ü–∏—è |
|---|----------|------|---------||
| 1 | START/MAIN_MENU | user_start.py | start_command(), go_to_main_menu() |
| 2 | PROFILE | user_start.py | profile_callback() |
| 3 | HOME_MENU | user_start.py | home_menu() |
| 4 | BUSINESS_MENU | user_start.py | business_menu() |
| 5 | DESIGN_MODE_SELECTOR | user_start.py | room_selected() |
| 6 | UPLOAD_PHOTO | creation.py | choose_new_photo() |
| 7 | CHOOSE_ROOM | creation.py | photo_uploaded() |
| 8 | CHOOSE_STYLE | creation.py | room_chosen(), mode_select_design() |
| 9 | CHOOSE_FURNITURE | design_step1_furniture.py | show_furniture_screen() |
| 10 | CHOOSE_COLORS | design_step2_colors.py | show_colors_screen() |
| 11 | GENERATING | creation.py | style_chosen() (–ø—Ä–æ—Ü–µ—Å—Å) |
| 12 | RESULT | creation.py | style_chosen() (—Ä–µ–∑—É–ª—å—Ç–∞—Ç) |
| 13 | PAYMENT_PACKAGES | payment.py | show_packages() |
| 14 | PAYMENT_CREATED | payment.py | create_payment() |
| 15 | PAYMENT_SUCCESS | payment.py | check_payment() |
| 16 | NO_BALANCE | creation.py | —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞ |
| **17** | **ADMIN_PANEL** | **admin.py** | **open_admin_panel_callback(), admin_start()** |

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 28.11.2024 10:25  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ v2.1:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" (–≠–∫—Ä–∞–Ω 17) —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
